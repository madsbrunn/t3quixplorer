{namespace t3q=T3QDevTeam\T3quixplorer\ViewHelpers}

<f:layout name="Default" />

<f:section name="content">
	<h2><f:translate key="title" /></h2>

	<div>

		<!-- General Actions form -->
		<div><f:render partial="Forms/CreateFileOrFolder" /></div>
		<!-- General Actions form -->

		<!-- change directory form -->
		<div><f:render partial="Forms/ChangeDirectory" arguments="{directory: directory}" /></div>
		<!-- change directory form -->

		<f:form action="processMarkedFiles" controller="FileSystem" name="itemList" method="POST" arguments="{relativePath: directory.relativePath}">
			<table class="t3-table">

				<!-- Header fields of table -->
				<thead>
					<tr>
						<th class="c-headLine"><input type="checkbox" class="toggleAll" name="toggleAll"></th>
						<th class="c-headLine">
							<f:link.action action="list" arguments="{directory: directory.relativePath, sortBy: 'name', sortDirection: '{f:if(condition: \'{directory.sortDirection}==\\\'DESC\\\'\', then: \'ASC\', else: \'DESC\')}'}">
								<f:translate key="name" />
							</f:link.action>
						</th>
						<th class="c-headLine">
							<f:link.action action="list" arguments="{directory: directory.relativePath, sortBy: 'size', sortDirection: '{f:if(condition: \'{directory.sortDirection}==\\\'DESC\\\'\', then: \'ASC\', else: \'DESC\')}'}">
								<f:translate key="size" />
							</f:link.action>
						</th>
						<th class="c-headLine"><f:translate key="type" /></th>
						<th class="c-headLine"><f:translate key="modified" /></th>
						<th class="c-headLine"><f:translate key="permissions" /></th>
						<th class="c-headLine"><f:translate key="actions" /></th>
					</tr>
				</thead>
				<!-- Header fields of table -->

				<tbody>
					<tr>
						<td colspan="7"><f:render partial="GeneralActionItems" arguments="{directory: directory}" /></td>
					</tr>

					<!-- list the entries of directory -->
					<f:for each="{directory.entries}" as="entry">
						<f:render partial="Entry" arguments="{entry: entry}" />
					</f:for>
					<!-- list the entries of directory -->
				</tbody>

				<tfoot>
					<t3q:directoryInformation directory="{directory}">
						<!-- Additional Folder informations -->
						<tr>
							<td class="c-headLine"></td>
							<td class="c-headLine">{entries} {f:translate(key: 'entries')} ({f:translate(key: 'free')}: {freeDiskSpace})</td>
							<td class="c-headLine">{size}</td>
							<td class="c-headLine"> </td>
							<td class="c-headLine"> </td>
							<td class="c-headLine"> </td>
							<td class="c-headLine"> </td>
						</tr>
						<!-- Additional Folder informations -->
					</t3q:directoryInformation>
				</tfoot>

			</table>
		</f:form>
	</div>
</f:section>